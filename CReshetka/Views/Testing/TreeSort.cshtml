@{
    ViewData["Title"] = "Сортировка Шелла (Shell Sort)";
}
<h1>@ViewData["Title"]</h1>

<div>
    <form method="post">
        <fieldset class="form-group">
            <div class="question">
                <legend class="mt-4">1. Какова временная сложность сортировки пузырьком для больших массивов?</legend>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="optionsRadios1">
                    <label class="form-check-label" for="optionsRadios1">
                        O(n)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="optionsRadios2">
                    <label class="form-check-label" for="optionsRadios2">
                        O(n log n)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="optionsRadios3" value="correct">
                    <label class="form-check-label" for="optionsRadios3">
                        O(n^2)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="question1" id="optionsRadios4">
                    <label class="form-check-label" for="optionsRadios4">
                        O(log n)
                    </label>
                </div>
            </div>

            <input type="hidden" id="resultTest" name="resultTest" value="false">
            <input type="hidden" id="correctAnswers" name="correctAnswers" value="" />
            <input type="hidden" id="resultsMessage" name="resultsMessage" value="" />
            <input type="hidden" id="totalQuestions" name="totalQuestions" value="" />

            <br />
            <div style="text-align: center;">
                <button type="submit" class="btn btn-lg btn-light" style="margin-bottom: 15px" onclick="calculateResults()">Проверить результат</button>
            </div>

        </fieldset>
    </form>
</div>

<script>
    function calculateResults() {
        // Инициализация счетчиков
        var correctAnswers = 0;
        var resultTest;
        // Получение всех элементов с классом "question"
        var questions = document.getElementsByClassName("question");
        // Перебор всех вопросов
        for (var i = 0; i < questions.length; i++) {
            var question = questions[i];
            // Получение ответа пользователя
            var userAnswer = question.querySelector("input:checked");
            // Получение правильного ответа
            var correctAnswer = question.querySelector("input[value=\"correct\"]");
            // Проверка, выбран ли ответ пользователем
            if (userAnswer !== null) {
                // Проверка выбранного ответа на правильность
                if (userAnswer === correctAnswer) {
                    correctAnswers++;
                }
            }
        }

        if (questions.length === correctAnswers) {
            resultTest = true;
            resultsMessage = "Тест пройден успешно";
        } else {
            resultTest = false;
            resultsMessage = "К сожалению, вы не прошли тест, прочитайте теорию и снова вернитесь к тесту";
        }

        // Установка значения resultTest в скрытое поле формы
        document.getElementById("resultTest").value = resultTest;
        document.getElementById("correctAnswers").value = correctAnswers;
        document.getElementById("resultsMessage").value = resultsMessage;
        document.getElementById("totalQuestions").value = questions.length;
    }
</script>



